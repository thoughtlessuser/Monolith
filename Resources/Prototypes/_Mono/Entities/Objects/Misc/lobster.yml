# SPDX-FileCopyrightText: 2025 Onezero0
#
# SPDX-License-Identifier: MPL-2.0


- type: entity
  parent: BasePlushie
  id: BlueLobster # The memes, Jack!
  name: blue lobster plushie
  description: It's him.
  components:
  - type: Sprite
    sprite: _Mono/Objects/Fun/blue_lobster.rsi
    state: blue_lobster
    scale: 0.0426, 0.0426
  - type: Item
    heldPrefix: blue lobster
  - type: EmitSoundOnUse
    sound:
      path: /Audio/_Mono/Items/blue-lobster.ogg
  - type: EmitSoundOnLand
    sound:
      path: /Audio/_Mono/Items/blue-lobster.ogg
  - type: EmitSoundOnActivate
    sound:
      path: /Audio/_Mono/Items/blue-lobster.ogg
  - type: EmitSoundOnTrigger
    sound:
      path: /Audio/_Mono/Items/blue-lobster.ogg
  - type: EmitSoundOnCollide
    sound:
      path: /Audio/_Mono/Items/blue-lobster.ogg
  - type: MeleeWeapon
    wideAnimationRotation: 360
    soundHit:
      path: /Audio/_Mono/Items/blue-lobster.ogg
  - type: UseDelay
    delay: 7


- type: entity
  name: Blue Lobster
  parent: BaseItem
  suffix: Embeddable Minibomb
  description: It's him.
  id: BlueLobsterExploding
  components:
  - type: OnUseTimerTrigger
    delay: 3
    examinable: false
  - type: Explosive
    explosionType: Default
    maxIntensity: 2000
    intensitySlope: 2000
    totalIntensity: 2000
    canCreateVacuum: false
  - type: ActivateOnPaperOpened
  - type: ExplodeOnTrigger
  - type: TriggerOnSignal
  - type: DeviceLinkSink
    ports:
    - Trigger
  - type: EmitSoundOnUse
    sound:
      path: /Audio/_Mono/Items/blue-lobster-fast.ogg
    handle: false # don't want the sound to stop the explosion from triggering
  - type: EmbeddableProjectile
    offset: 0.3,0.0
    removalTime: 0.0
  - type: ThrowingAngle
    angle: 315
  - type: LandAtCursor
  - type: DamageOtherOnHit
    damage:
      types:
        Piercing: 3
  - type: Sprite
    sprite: _Mono/Objects/Fun/blue_lobster.rsi
    state: blue_lobster
    scale: 0.0426, 0.0426
