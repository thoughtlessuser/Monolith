# SPDX-FileCopyrightText: 2021 Swept
# SPDX-FileCopyrightText: 2021 xRiriq
# SPDX-FileCopyrightText: 2022 Alex Evgrashin
# SPDX-FileCopyrightText: 2022 Fishfish458
# SPDX-FileCopyrightText: 2022 Kara
# SPDX-FileCopyrightText: 2022 Leon Friedrich
# SPDX-FileCopyrightText: 2022 Peptide90
# SPDX-FileCopyrightText: 2022 Rane
# SPDX-FileCopyrightText: 2022 Visne
# SPDX-FileCopyrightText: 2022 fishfish458 <fishfish458>
# SPDX-FileCopyrightText: 2022 mirrorcult
# SPDX-FileCopyrightText: 2022 rolfero
# SPDX-FileCopyrightText: 2023 Fromoriss
# SPDX-FileCopyrightText: 2023 Tony
# SPDX-FileCopyrightText: 2023 crazybrain23
# SPDX-FileCopyrightText: 2023 metalgearsloth
# SPDX-FileCopyrightText: 2023 peptron1
# SPDX-FileCopyrightText: 2023 sTiKyt
# SPDX-FileCopyrightText: 2024 Dvir
# SPDX-FileCopyrightText: 2024 Emisse
# SPDX-FileCopyrightText: 2024 ErhardSteinhauer
# SPDX-FileCopyrightText: 2024 Mr. 27
# SPDX-FileCopyrightText: 2024 Nemanja
# SPDX-FileCopyrightText: 2024 Plykiya
# SPDX-FileCopyrightText: 2024 SonicHDC
# SPDX-FileCopyrightText: 2024 VMSolidus
# SPDX-FileCopyrightText: 2024 Verm
# SPDX-FileCopyrightText: 2024 deltanedas
# SPDX-FileCopyrightText: 2024 lzk
# SPDX-FileCopyrightText: 2024 Джексон Миссиссиппи
# SPDX-FileCopyrightText: 2025 Ark
# SPDX-FileCopyrightText: 2025 ark1368
# SPDX-FileCopyrightText: 2025 starch
#
# SPDX-License-Identifier: MPL-2.0

- type: entity
  abstract: true
  parent: [ Clothing, AllowSuitStorageClothing, RecyclableItemClothDurable ] # Frontier: added AllowSuitStorageClothing and RecyclableItemClothDurable
  id: ClothingOuterBase
  components:
  # Goobstation edit start
  - type: EmitSoundOnPickup
    sound:
      collection: GenericPickup
      params:
        volume: -9
  - type: EmitSoundOnDrop
    sound:
      collection: GenericDrop
      params:
        volume: -9
  - type: EmitSoundOnLand
    sound:
      collection: GenericDrop
      params:
        volume: -9
  - type: Clothing
    slots:
    - outerClothing
    equipSound:
      collection: GenericEquip
  # Goobstation edit end
  - type: Sprite
    state: icon
  - type: StaticPrice # Frontier: setting base price to make material arbitrage happier
    price: 30 # Frontier

- type: entity
  abstract: true
  parent: ClothingOuterBase
  id: ClothingOuterBaseLarge
  components:
  - type: Item
    size: Huge
  - type: Clothing
    slots:
    - outerClothing
  - type: ClothingSpeedModifier
    walkModifier: 0.9
    sprintModifier: 0.9
  - type: HeldSpeedModifier

- type: entity
  abstract: true
  parent: ClothingOuterBase
  id: ClothingOuterStorageBase
  components:
  - type: Storage
    grid:
    - 0,0,2,1
  - type: ContainerContainer
    containers:
      storagebase: !type:Container
        ents: []
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
  - type: StaticPrice
    price: 35 # Frontier 70<35

- type: entity
  abstract: true
  parent: [RecyclableItemClothBasic, ClothingOuterStorageBase, BaseFoldable] # Frontier: added RecyclableItemClothBasic
  id: ClothingOuterStorageFoldableBase
  components:
  - type: Appearance
  - type: Foldable
    canFoldInsideContainer: true
    unfoldVerbText: fold-zip-verb
    foldVerbText: fold-unzip-verb
  - type: FoldableClothing
    foldedEquippedPrefix: open
    foldedHeldPrefix: open
  - type: Sprite
    layers:
    - state: icon
      map: [ "unfoldedLayer" ]
    - state: icon-open
      map: ["foldedLayer"]
      visible: false

- type: entity
  abstract: true
  parent: ClothingOuterStorageFoldableBase
  id: ClothingOuterStorageFoldableBaseOpened
  suffix: opened
  components:
  - type: Foldable
    folded: true
  - type: Clothing
    equippedPrefix: open
  - type: Item
    heldPrefix: open
  - type: Sprite
    layers:
    - state: icon
      map: [ "unfoldedLayer" ]
      visible: false
    - state: icon-open
      map: ["foldedLayer"]
      visible: true

- type: entity
  abstract: true
  parent: ClothingOuterStorageBase
  id: ClothingOuterStorageToggleableBase
  components:
  - type: ToggleableClothing # Goobstation - Modsuits change
    clothingPrototypes:
      head: ClothingHeadHatHoodWinterDefault
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
      enum.ToggleClothingUiKey.Key:
        type: ToggleableClothingBoundUserInterface
  - type: ContainerContainer
    containers:
      toggleable-clothing: !type:Container {}
      storagebase: !type:Container
        ents: []

- type: entity
  abstract: true
  parent: [RecyclableItemClothHardsuit, ClothingOuterBase, GeigerCounterClothing, AllowSuitStorageClothing, ClothingArmorPlateLight] # Frontier: added RecyclableItemClothHardsuit
  id: ClothingOuterHardsuitBase
  name: base hardsuit
  components:
  - type: PressureProtection
    highPressureMultiplier: 0.3
    lowPressureMultiplier: 1000
  - type: TemperatureProtection
    heatingCoefficient: 0.01
    coolingCoefficient: 0.01
  - type: ClothingSpeedModifier
    walkModifier: 0.4
    sprintModifier: 0.6
  - type: HeldSpeedModifier
  - type: Item
    size: Ginormous
  - type: Armor
    modifiers:
      coefficients:
        Blunt: 0.90
        Slash: 0.90
        Piercing: 0.95
        Heat: 0.90
        Radiation: 0.25
  - type: ToggleableClothing
  - type: ContainerContainer
    containers:
      toggleable-clothing: !type:Container {}
      storagebase: !type:Container
        ents: []
  - type: UserInterface
    interfaces:
      enum.ToggleClothingUiKey.Key:
        type: ToggleableClothingBoundUserInterface
  - type: GroupExamine
  - type: Tag
    tags:
    - Hardsuit
    - WhitelistChameleon
  - type: ProtectedFromStepTriggers
    slots: WITHOUT_POCKET
  - type: DamageOnInteractProtection
    damageProtection:
      flatReductions:
        Heat: 10 # the average lightbulb only does around four damage!
    slots: OUTERCLOTHING
  # Goobstation edit start
  - type: EmitSoundOnPickup
    sound:
      path: /Audio/_Goobstation/Items/handling/backpack_pickup.ogg
      params:
        volume: -4
  - type: EmitSoundOnDrop
    sound:
      path: /Audio/_Goobstation/Items/handling/backpack_drop.ogg
      params:
        volume: -4
  - type: EmitSoundOnLand
    sound:
      path: /Audio/_Goobstation/Items/handling/backpack_drop.ogg
      params:
        volume: -4
  # Goobstation edit end
  - type: HarpyHideWings # Frontier, needed for Harpies
  - type: StaticPrice # Frontier
    price: 20 # Frontier
    vendPrice: 1500 # Frontier

- type: entity
  abstract: true
  parent: [ClothingOuterBase, AllowSuitStorageClothing]
  id: ClothingOuterEVASuitBase
  name: base EVA Suit
  components:
  - type: PressureProtection
    highPressureMultiplier: 0.6
    lowPressureMultiplier: 1000
  - type: TemperatureProtection
    heatingCoefficient: 0.01 # Not complete protection from fire
    coolingCoefficient: 0.01
  - type: ClothingSpeedModifier
    walkModifier: 0.8
    sprintModifier: 0.8
  - type: HeldSpeedModifier
  - type: Item
    size: Huge
  - type: ProtectedFromStepTriggers
    slots: WITHOUT_POCKET
  - type: DamageOnInteractProtection
    damageProtection:
      flatReductions:
        Heat: 10 # the average lightbulb only does around four damage!
    slots: OUTERCLOTHING
#  - type: PhysicalComposition # Frontier
#    materialComposition: # Frontier
#      Durathread: 100 # Frontier
#      Cloth: 50 # Frontier

- type: entity
  parent: ClothingOuterBase
  id: ClothingOuterBaseToggleable
  name: hoodie with hood
  abstract: True
  components:
  - type: ToggleableClothing # Goobstation - Modsuits change
    clothingPrototypes:
      head: ClothingHeadHatHoodWinterDefault
  - type: ContainerContainer
    containers:
      toggleable-clothing: !type:Container {}
      storagebase: !type:Container
        ents: []
  - type: UserInterface
    interfaces:
      enum.StorageUiKey.Key:
        type: StorageBoundUserInterface
      enum.ToggleClothingUiKey.Key:
        type: ToggleableClothingBoundUserInterface

- type: entity
  abstract: true
  parent: ClothingOuterBase
  id: ClothingOuterBaseMedium
  components:
  - type: Item
    size: Huge
